@model CategoryViewModel

<h1>@Model!.Category.Name</h1>

@if (@Model.Parent == null)
{
    <a asp-action="Index" asp-controller="Home">
        <p>Back</p>
    </a>
}
else
{
    <a asp-action="Index" asp-controller="Category" asp-route-categoryId="@Model.Parent.Id" >
        <p>Back</p>
    </a>
}

@foreach (var category in @Model.Categories)
{
    <partial name="../Partials/Category.cshtml" model="@category" />
}

<button>Create New Category</button>
<form method="post" asp-action="Create">
    <input asp-for="CreateCategoryModel.NewCategoryHasError" type="hidden" />
    <input asp-for="CreateCategoryModel.FromHome" type="hidden" value="@false" />
    <label asp-for="CreateCategoryModel.NewCategoryName"></label>
    <input asp-for="CreateCategoryModel.NewCategoryName" />
    <span asp-validation-for="CreateCategoryModel.NewCategoryName"></span>
    <input asp-for="CreateCategoryModel.UserId" type="hidden" />
    <input asp-for="CreateCategoryModel.BaseCategoryId" type="hidden" value="@Model.Category.Id" />
    <input type="submit" value="Create" />
</form>


@foreach (var todo in @Model.Todos)
{
    <partial name="../Partials/Todo.cshtml" model="@todo" />
}

<button>Create New Todo</button>
